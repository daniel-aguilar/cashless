import{a as dt}from"./chunk-TLJZRMGB.js";import{a as pt}from"./chunk-QH7NETPW.js";import{a as mt}from"./chunk-WR5FJPFY.js";import{A as ue,B as _e,a as Z,b as ee,d as te,e as ie,f as re,h as oe,i as ne,k as ae,l as se,m as tt,n as it,o as rt,p as me,q as le,r as ce,s as at,w as de,x as pe}from"./chunk-A46UREAT.js";import{a as st,c as C,e as v,f as lt,g as ct}from"./chunk-EAZJMQMR.js";import"./chunk-5PS4YDAB.js";import{Aa as g,Ab as q,Ac as nt,Ba as ke,Ca as $e,Cc as P,Da as De,Ea as A,Fa as a,Ga as s,Gb as Je,H as L,Ha as d,Hb as He,I as O,Ia as h,J as Re,Ja as M,Jb as Ye,L as n,Lb as Qe,N as k,Na as X,Nb as qe,O as $,Oa as U,Ob as Ke,P as Te,Pb as I,Q as Pe,Qa as c,Qb as K,Ra as S,Rb as Ze,S as xe,Sa as y,Sb as et,Ta as Fe,Tb as u,U as Le,Ua as Ne,Va as Be,Wa as ze,Xa as W,Xb as ot,Y as D,Ya as V,Z as F,ab as je,ba as m,bb as G,c as Ge,cb as J,db as H,eb as p,fb as Y,g as Ie,gb as Xe,ia as l,ja as B,ka as z,kb as Q,lb as ye,ma as j,mb as Ue,oa as Oe,ob as We,pb as Ve,q as x,v as we,ya as N,za as f}from"./chunk-YAEFWQCE.js";var E=class t{loading=new Ie(!1);get isLoading(){return this.loading.asObservable();}show(){this.loading.next(!0),document.body.classList.add("loading-backdrop");}hide(){this.loading.next(!1),document.body.classList.remove("loading-backdrop");}static ɵfac=function(e){return new(e||t)();};static ɵprov=L({token:t,factory:t.ɵfac,providedIn:"root"});};var w=class t{router=n(I);game=n(le);loading=n(E);auth=n(u);enterGame(r){return this.loading.show(),this.game.joinGame(r).pipe(we(()=>{this.loading.hide(),this.auth.getLoggedAccount().isBanker?this.router.navigateByUrl("/banker"):this.router.navigateByUrl("/player");}));}static ɵfac=function(e){return new(e||t)();};static ɵdir=z({type:t});};function Ct(t,r){t&1&&(a(0,"p",7),c(1,1),s());}var fe=class t extends w{form;error=!1;ngOnInit(){this.form=new re({pin:new oe("",{validators:ee.required})});}joinGame(){let r=this.form.value.pin;this.enterGame(r).subscribe({error:()=>this.displayError()});}displayError(){this.error=!0,setTimeout(()=>this.error=!1,3e3);}static ɵfac=(()=>{let r;return function(i){return(r||(r=D(t)))(i||t);};})();static ɵcmp=l({type:t,selectors:[["app-join-game"]],features:[j],decls:10,vars:3,consts:()=>{let r;r="Ej. 1234";let e;e="PIN";let i;return i="Cuenta no encontrada",[e,i,[1,"flex","justify-center","px-1"],[1,"w-full","md:w-1/3",3,"ngSubmit","formGroup"],[1,"flex","flex-col"],["matInput","","placeholder",r,"autocomplete","off","formControlName","pin","minlength","4","maxlength","4","pattern","[0-9]{4}"],["mat-flat-button","",3,"disabled"],[1,"error","mt-2","text-center"]];},template:function(e,i){e&1&&(a(0,"div",2)(1,"form",3),S("ngSubmit",function(){return i.joinGame();}),a(2,"div",4)(3,"mat-form-field")(4,"mat-label"),c(5,0),s(),d(6,"input",5),s(),a(7,"button",6),p(8,"OK"),s(),f(9,Ct,2,0,"p",7),s()()()),e&2&&(m(),A("formGroup",i.form),m(6),A("disabled",i.form.invalid),m(2),g(i.error?9:-1));},dependencies:[me,ne,Z,te,ie,tt,it,rt,ae,se,pe,de,ce,_e,ue,v,C],encapsulation:2});};var he=class t{auth=n(u);canActivate(){return this.auth.getLoggedAccount().isBanker;}static ɵfac=function(e){return new(e||t)();};static ɵprov=L({token:t,factory:t.ɵfac,providedIn:"root"});};function Tt(t,r){if(t&1){let e=U();a(0,"button",2),S("click",function(){k(e);let o=y();return $(o.continueGame());}),c(1,0),s();}}var Me=class t extends w{canContinueGame=!1;pin;ngOnInit(){this.pin=this.auth.savedPin,this.canContinueGame=!!this.pin;}continueGame(){return Ge(this,null,function*(){this.enterGame(this.pin).subscribe({error:()=>{this.canContinueGame=!1,this.auth.logout();}});});}static ɵfac=(()=>{let r;return function(i){return(r||(r=D(t)))(i||t);};})();static ɵcmp=l({type:t,selectors:[["app-continue-game"]],features:[j],decls:1,vars:1,consts:()=>{let r;return r="Continuar Juego",[r,["mat-flat-button","",1,"w-full"],["mat-flat-button","",1,"w-full",3,"click"]];},template:function(e,i){e&1&&f(0,Tt,2,0,"button",1),e&2&&g(i.canContinueGame?0:-1);},dependencies:[v,C],encapsulation:2});};var be=class t{static ɵfac=function(e){return new(e||t)();};static ɵcmp=l({type:t,selectors:[["app-main-menu"]],decls:7,vars:0,consts:()=>{let r;r="Nuevo Juego";let e;return e="Unirse a un Juego",[r,e,[1,"flex","justify-center","px-1"],[1,"flex","w-full","flex-col","md:w-1/3"],["mat-stroked-button","","routerLink","/new",1,"mb-1"],["mat-stroked-button","","routerLink","/join",1,"mb-1"]];},template:function(e,i){e&1&&(a(0,"div",2)(1,"div",3)(2,"button",4),c(3,0),s(),a(4,"button",5),c(5,1),s(),d(6,"app-continue-game"),s()());},dependencies:[v,C,K,Me],encapsulation:2});};function Nt(t,r){t&1&&(a(0,"mat-error"),c(1,1),s());}var Ae=class t{form=new re({name:new oe("",{validators:[ee.required,yt]})});get name(){return this.form.get("name");}game=n(le);auth=n(u);router=n(I);loading=n(E);createGame(){let r=this.form.value.name;this.loading.show(),this.game.newGame(r).subscribe(e=>{this.loading.hide(),this.auth.login(e),this.router.navigateByUrl("/banker");});}static ɵfac=function(e){return new(e||t)();};static ɵcmp=l({type:t,selectors:[["app-new-game"]],decls:10,vars:3,consts:()=>{let r;r="Ej. Isabel";let e;e="Nombre del Jugador";let i;return i="Ese nombre est\xE1 reservado",[e,i,[1,"flex","justify-center","px-1"],[1,"w-full","md:w-1/3",3,"ngSubmit","formGroup"],[1,"flex","flex-col"],["matInput","","placeholder",r,"autocomplete","off","formControlName","name"],["mat-flat-button","",3,"disabled"]];},template:function(e,i){e&1&&(a(0,"div",2)(1,"form",3),S("ngSubmit",function(){return i.createGame();}),a(2,"div",4)(3,"mat-form-field")(4,"mat-label"),c(5,0),s(),d(6,"input",5),f(7,Nt,2,0,"mat-error"),s(),a(8,"button",6),p(9,"OK"),s()()()()),e&2&&(m(),A("formGroup",i.form),m(6),g(i.name.errors!=null&&i.name.errors.noBankName?7:-1),m(),A("disabled",i.form.invalid));},dependencies:[me,ne,Z,te,ie,ae,se,pe,de,ce,at,_e,ue,v,C],encapsulation:2});};function yt(t){return t.value.toLowerCase()==="bank"?{noBankName:!0}:null;}function Gt(t,r){if(t&1&&(h(0,"tr")(1,"td"),p(2),Q(3,"date"),M(),h(4,"td"),p(5),Q(6,"localizeName"),M(),h(7,"td"),p(8),Q(9,"localizeName"),M(),h(10,"td"),p(11),M()()),t&2){let e=r.$implicit;m(2),Y(Ue(3,4,e.date,"h:mm a")),m(3),Y(ye(6,7,e.sender.name)),m(3),Y(ye(9,9,e.recipient.name)),m(3),Xe("$",e.amount);}}var ve=class t{transactions=[];gameId=0;txSub;auth=n(u);bank=n(mt);loading=n(E);ngOnInit(){this.gameId=this.auth.getLoggedAccount().gameId,this.loading.show(),this.bank.getTransactionLog(this.gameId).subscribe(r=>{this.transactions=r,this.listenToTransactions(),this.loading.hide();});}ngOnDestroy(){this.txSub.unsubscribe();}listenToTransactions(){this.txSub=this.bank.transactions.pipe(x(r=>this.isFromThisGame(r))).subscribe(r=>this.transactions.unshift(r));}isFromThisGame(r){let e=r.sender.gameId===r.recipient.gameId,i=r.sender.gameId===this.gameId;return e&&i;}static ɵfac=function(e){return new(e||t)();};static ɵcmp=l({type:t,selectors:[["app-transaction-log"]],decls:17,vars:0,consts:()=>{let r;r="Bit\xE1cora de Transacciones";let e;e="Hora";let i;i="Origen";let o;o="Destino";let _;return _="Monto",[r,e,i,o,_,[1,"px-1","pb-1"],[1,"text-center"],[1,"monopoly-table","mx-auto","w-full","md:w-2/3"]];},template:function(e,i){e&1&&(h(0,"div",5)(1,"h2",6),c(2,0),M(),h(3,"table",7)(4,"thead")(5,"tr")(6,"th"),c(7,1),M(),h(8,"th"),c(9,2),M(),h(10,"th"),c(11,3),M(),h(12,"th"),c(13,4),M()()(),h(14,"tbody"),$e(15,Gt,12,11,"tr",null,ke),M()()()),e&2&&(m(15),De(i.transactions));},dependencies:[He,dt],encapsulation:2});};var Ee=()=>n(u).canActivate(),ut=()=>n(he).canActivate(),_t=[{path:"",pathMatch:"full",component:be},{path:"new",component:Ae},{path:"join",component:fe},{path:"player",component:pt,canActivate:[Ee]},{path:"transactions",component:ve,canActivate:[Ee]},{path:"banker",loadComponent:()=>import("./chunk-53WFPY57.js").then(t=>t.Banker),canActivate:[Ee,ut]},{path:"banker/players",loadComponent:()=>import("./chunk-LNKIMBR6.js").then(t=>t.PlayerList),canActivate:[Ee,ut]},{path:"**",redirectTo:""}];var ft={providers:[Le(),Ve({eventCoalescing:!0}),Ze(_t,et()),Qe()]};var It=["*",[["mat-toolbar-row"]]],wt=["*","mat-toolbar-row"],Rt=(()=>{class t{static ɵfac=function(i){return new(i||t)();};static ɵdir=z({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]});}return t;})(),gt=(()=>{class t{_elementRef=n(F);_platform=n(ot);_document=n(xe);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()));}_checkToolbarMixedModes(){this._toolbarRows.length;}static ɵfac=function(i){return new(i||t)();};static ɵcmp=l({type:t,selectors:[["mat-toolbar"]],contentQueries:function(i,o,_){if(i&1&&Be(_,Rt,5),i&2){let T;W(T=V())&&(o._toolbarRows=T);}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,o){i&2&&(H(o.color?"mat-"+o.color:""),J("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0));},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:wt,decls:2,vars:0,template:function(i,o){i&1&&(Fe(It),Ne(0),Ne(1,1));},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0});}return t;})();var ht=(()=>{class t{static ɵfac=function(i){return new(i||t)();};static ɵmod=B({type:t});static ɵinj=O({imports:[P,P]});}return t;})();var xt=["determinateSpinner"];function Lt(t,r){if(t&1&&(Te(),a(0,"svg",11),d(1,"circle",12),s()),t&2){let e=y();N("viewBox",e._viewBox()),m(),G("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),N("r",e._circleRadius());}}var Ot=new Re("mat-progress-spinner-default-options",{providedIn:"root",factory:kt});function kt(){return{diameter:Mt};}var Mt=100,$t=10,bt=(()=>{class t{_elementRef=n(F);_noopAnimations;get color(){return this._color||this._defaultColor;}set color(e){this._color=e;}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=n(Ot),i=nt(),o=this._elementRef.nativeElement;this._noopAnimations=i==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=o.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&i==="reduced-motion"&&o.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth));}mode;get value(){return this.mode==="determinate"?this._value:0;}set value(e){this._value=Math.max(0,Math.min(100,e||0));}_value=0;get diameter(){return this._diameter;}set diameter(e){this._diameter=e||0;}_diameter=Mt;get strokeWidth(){return this._strokeWidth??this.diameter/10;}set strokeWidth(e){this._strokeWidth=e||0;}_strokeWidth;_circleRadius(){return(this.diameter-$t)/2;}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`;}_strokeCircumference(){return 2*Math.PI*this._circleRadius();}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null;}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100;}static ɵfac=function(i){return new(i||t)();};static ɵcmp=l({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,o){if(i&1&&ze(xt,5),i&2){let _;W(_=V())&&(o._determinateCircle=_.first);}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,o){i&2&&(N("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),H("mat-"+o.color),G("width",o.diameter,"px")("height",o.diameter,"px")("--mat-progress-spinner-size",o.diameter+"px")("--mat-progress-spinner-active-indicator-width",o.diameter+"px"),J("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"));},inputs:{color:"color",mode:"mode",value:[2,"value","value",q],diameter:[2,"diameter","diameter",q],strokeWidth:[2,"strokeWidth","strokeWidth",q]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,o){if(i&1&&(Oe(0,Lt,2,8,"ng-template",null,0,We),a(2,"div",2,1),Te(),a(4,"svg",3),d(5,"circle",4),s()(),Pe(),a(6,"div",5)(7,"div",6)(8,"div",7),X(9,8),s(),a(10,"div",9),X(11,8),s(),a(12,"div",10),X(13,8),s()()()),i&2){let _=je(1);m(4),N("viewBox",o._viewBox()),m(),G("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),N("r",o._circleRadius()),m(4),A("ngTemplateOutlet",_),m(2),A("ngTemplateOutlet",_),m(2),A("ngTemplateOutlet",_);}},dependencies:[Je],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0});}return t;})();var At=(()=>{class t{static ɵfac=function(i){return new(i||t)();};static ɵmod=B({type:t});static ɵinj=O({imports:[P]});}return t;})();function Ft(t,r){t&1&&(a(0,"div"),d(1,"mat-progress-spinner",0),s());}var Se=class t{isLoading=!1;loading=n(E);ngOnInit(){this.loading.isLoading.subscribe(r=>this.isLoading=r);}static ɵfac=function(e){return new(e||t)();};static ɵcmp=l({type:t,selectors:[["app-loading-spinner"]],decls:1,vars:1,consts:[["mode","indeterminate"]],template:function(e,i){e&1&&f(0,Ft,2,0,"div"),e&2&&g(i.isLoading?0:-1);},dependencies:[At,bt],styles:["div[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;opacity:.7;z-index:10;display:flex;flex-direction:column;justify-content:center;align-items:center}"]});};function Bt(t,r){t&1&&(a(0,"a",2)(1,"mat-icon"),p(2,"manage_accounts"),s()());}function zt(t,r){if(t&1){let e=U();a(0,"button",4),S("click",function(){k(e);let o=y();return $(o.leaveGame());}),a(1,"mat-icon"),p(2,"logout"),s()();}}var Ce=class t{account;addMargin=!0;auth=n(u);router=n(I);ngOnInit(){this.auth.getLoginStatus().subscribe(r=>{r?this.account=this.auth.getLoggedAccount():delete this.account;}),this.listenForBankerRoute();}leaveGame(){this.auth.logout(),this.router.navigateByUrl("/");}listenForBankerRoute(){this.router.events.pipe(x(r=>r instanceof qe)).subscribe(r=>{let e=r;this.addMargin=e.url!=="/banker";});}static ɵfac=function(e){return new(e||t)();};static ɵcmp=l({type:t,selectors:[["app-root"]],decls:8,vars:4,consts:()=>{let r;r="Gestionar Jugadores";let e;return e="Salir",[[1,"app-toolbar"],[1,"ms-auto"],["title",r,"mat-icon-button","","routerLink","/banker/players"],["title",e,"mat-icon-button",""],["title",e,"mat-icon-button","",3,"click"]];},template:function(e,i){e&1&&(d(0,"app-loading-spinner"),a(1,"mat-toolbar",0)(2,"h1"),p(3,"CASHLESS"),s(),a(4,"div",1),f(5,Bt,3,0,"a",2),f(6,zt,3,0,"button",3),s()(),d(7,"router-outlet")),e&2&&(m(),G("margin-bottom",i.addMargin?"1em":""),m(4),g(i.account!=null&&i.account.isBanker?5:-1),m(),g(i.account?6:-1));},dependencies:[Se,ht,gt,v,st,ct,lt,K,Ke],encapsulation:2});};Ye(Ce,ft).catch(t=>console.error(t));/**i18n:25b89f45ee840fc142fbaadd4b394e1385b7cda733c0e9935fff2d7a933a6b20*/